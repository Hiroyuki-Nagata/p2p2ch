# --- !Ups

CREATE TABLE THREAD_CACHE (
ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
THREAD BINARY(20) NOT NULL UNIQUE,
MODIFIED BIGINT NOT NULL
);

CREATE TABLE RESPONSE_CACHE (
ID  INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
THREAD  BINARY(20) NOT NULL,
RESPONSE BINARY(20) NOT NULL UNIQUE,
MODIFIED BIGINT NOT NULL
);

CREATE TABLE SETTING_LOG (
ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
MESSAGE TEXT NOT NULL,
MODIFIED BIGINT NOT NULL
);

INSERT INTO SETTING_LOG (MESSAGE, MODIFIED) VALUES ('INITIALIZED', 0);
-- INSERT INTO THREAD_CACHE (THREAD, MODIFIED) VALUES ('deadbeefdeadbeefdead', CURRENT_TIMESTAMP());
-- INSERT INTO RESPONSE_CACHE (THREAD, RESPONSE, MODIFIED) VALUES ('deadbeefdeadbeefdead', 'deadbadbeefbeefbeefe', CURRENT_TIMESTAMP());

# --- !Downs

DROP TABLE THREAD_CACHE;
DROP TABLE RESPONSE_CACHE;
DROP TABLE SETTING_LOG;
